{"ast":null,"code":"/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var KeyCodes = {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"enter\",\n  20: \"capslock\",\n  27: \"esc\",\n  32: \"space\",\n  33: \"pageup\",\n  34: \"pagedown\",\n  35: \"end\",\n  36: \"home\",\n  37: \"left\",\n  38: \"up\",\n  39: \"right\",\n  40: \"down\",\n  45: \"ins\",\n  46: \"del\",\n  // number keys\n  48: \"0\",\n  49: \"1\",\n  50: \"2\",\n  51: \"3\",\n  52: \"4\",\n  53: \"5\",\n  54: \"6\",\n  55: \"7\",\n  56: \"8\",\n  57: \"9\",\n  // alphabet\n  65: \"a\",\n  66: \"b\",\n  67: \"c\",\n  68: \"d\",\n  69: \"e\",\n  70: \"f\",\n  71: \"g\",\n  72: \"h\",\n  73: \"i\",\n  74: \"j\",\n  75: \"k\",\n  76: \"l\",\n  77: \"m\",\n  78: \"n\",\n  79: \"o\",\n  80: \"p\",\n  81: \"q\",\n  82: \"r\",\n  83: \"s\",\n  84: \"t\",\n  85: \"u\",\n  86: \"v\",\n  87: \"w\",\n  88: \"x\",\n  89: \"y\",\n  90: \"z\",\n  // punctuation\n  106: \"*\",\n  107: \"+\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\"\n};\nexport var Modifiers = {\n  16: \"shift\",\n  17: \"ctrl\",\n  18: \"alt\",\n  91: \"meta\",\n  93: \"meta\",\n  224: \"meta\"\n};\nexport var ModifierBitMasks = {\n  alt: 1,\n  ctrl: 2,\n  meta: 4,\n  shift: 8\n};\nexport var Aliases = {\n  cmd: \"meta\",\n  command: \"meta\",\n  escape: \"esc\",\n  minus: \"-\",\n  mod: isMac() ? \"meta\" : \"ctrl\",\n  option: \"alt\",\n  plus: \"+\",\n  return: \"enter\",\n  win: \"meta\"\n}; // alph sorting is unintuitive here\n// tslint:disable object-literal-sort-keys\n\nexport var ShiftKeys = {\n  \"~\": \"`\",\n  \"!\": \"1\",\n  \"@\": \"2\",\n  \"#\": \"3\",\n  $: \"4\",\n  \"%\": \"5\",\n  \"^\": \"6\",\n  \"&\": \"7\",\n  \"*\": \"8\",\n  \"(\": \"9\",\n  \")\": \"0\",\n  _: \"-\",\n  \"+\": \"=\",\n  \"{\": \"[\",\n  \"}\": \"]\",\n  \"|\": \"\\\\\",\n  \":\": \";\",\n  '\"': \"'\",\n  \"<\": \",\",\n  \">\": \".\",\n  \"?\": \"/\"\n}; // tslint:enable object-literal-sort-keys\n// Function keys\n\nfor (var i = 1; i <= 12; ++i) {\n  KeyCodes[111 + i] = \"f\" + i;\n} // Numpad\n\n\nfor (var i = 0; i <= 9; ++i) {\n  KeyCodes[96 + i] = \"num\" + i.toString();\n}\n\nexport function comboMatches(a, b) {\n  return a.modifiers === b.modifiers && a.key === b.key;\n}\n/**\n * Converts a key combo string into a key combo object. Key combos include\n * zero or more modifier keys, such as `shift` or `alt`, and exactly one\n * action key, such as `A`, `enter`, or `left`.\n *\n * For action keys that require a shift, e.g. `@` or `|`, we inlude the\n * necessary `shift` modifier and automatically convert the action key to the\n * unshifted version. For example, `@` is equivalent to `shift+2`.\n */\n\nexport var parseKeyCombo = function (combo) {\n  var pieces = combo.replace(/\\s/g, \"\").toLowerCase().split(\"+\");\n  var modifiers = 0;\n  var key;\n\n  for (var _i = 0, pieces_1 = pieces; _i < pieces_1.length; _i++) {\n    var piece = pieces_1[_i];\n\n    if (piece === \"\") {\n      throw new Error(\"Failed to parse key combo \\\"\" + combo + \"\\\".\\n                Valid key combos look like \\\"cmd + plus\\\", \\\"shift+p\\\", or \\\"!\\\"\");\n    }\n\n    if (Aliases[piece] != null) {\n      piece = Aliases[piece];\n    }\n\n    if (ModifierBitMasks[piece] != null) {\n      modifiers += ModifierBitMasks[piece];\n    } else if (ShiftKeys[piece] != null) {\n      modifiers += ModifierBitMasks.shift;\n      key = ShiftKeys[piece];\n    } else {\n      key = piece.toLowerCase();\n    }\n  }\n\n  return {\n    modifiers: modifiers,\n    key: key\n  };\n};\n/**\n * Converts a keyboard event into a valid combo prop string\n */\n\nexport var getKeyComboString = function (e) {\n  var keys = []; // modifiers first\n\n  if (e.ctrlKey) {\n    keys.push(\"ctrl\");\n  }\n\n  if (e.altKey) {\n    keys.push(\"alt\");\n  }\n\n  if (e.shiftKey) {\n    keys.push(\"shift\");\n  }\n\n  if (e.metaKey) {\n    keys.push(\"meta\");\n  } // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n  // eslint-disable-next-line deprecation/deprecation\n\n\n  var which = e.which;\n\n  if (Modifiers[which] != null) {// no action key\n  } else if (KeyCodes[which] != null) {\n    keys.push(KeyCodes[which]);\n  } else {\n    // eslint-disable-next-line id-blacklist\n    keys.push(String.fromCharCode(which).toLowerCase());\n  } // join keys with plusses\n\n\n  return keys.join(\" + \");\n};\n/**\n * Determines the key combo object from the given keyboard event. Again, a key\n * combo includes zero or more modifiers (represented by a bitmask) and one\n * action key, which we determine from the `e.which` property of the keyboard\n * event.\n */\n\nexport var getKeyCombo = function (e) {\n  var key; // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n  // eslint-disable-next-line deprecation/deprecation\n\n  var which = e.which;\n\n  if (Modifiers[which] != null) {// keep key null\n  } else if (KeyCodes[which] != null) {\n    key = KeyCodes[which];\n  } else {\n    // eslint-disable-next-line id-blacklist\n    key = String.fromCharCode(which).toLowerCase();\n  }\n\n  var modifiers = 0;\n\n  if (e.altKey) {\n    modifiers += ModifierBitMasks.alt;\n  }\n\n  if (e.ctrlKey) {\n    modifiers += ModifierBitMasks.ctrl;\n  }\n\n  if (e.metaKey) {\n    modifiers += ModifierBitMasks.meta;\n  }\n\n  if (e.shiftKey) {\n    modifiers += ModifierBitMasks.shift;\n  }\n\n  return {\n    modifiers: modifiers,\n    key: key\n  };\n};\n/**\n * Splits a key combo string into its constituent key values and looks up\n * aliases, such as `return` -> `enter`.\n *\n * Unlike the parseKeyCombo method, this method does NOT convert shifted\n * action keys. So `\"@\"` will NOT be converted to `[\"shift\", \"2\"]`).\n */\n\nexport var normalizeKeyCombo = function (combo, platformOverride) {\n  var keys = combo.replace(/\\s/g, \"\").split(\"+\");\n  return keys.map(function (key) {\n    var keyName = Aliases[key] != null ? Aliases[key] : key;\n    return keyName === \"meta\" ? isMac(platformOverride) ? \"cmd\" : \"ctrl\" : keyName;\n  });\n};\n\nfunction isMac(platformOverride) {\n  var platform = platformOverride != null ? platformOverride : typeof navigator !== \"undefined\" ? navigator.platform : undefined;\n  return platform == null ? false : /Mac|iPod|iPhone|iPad/.test(platform);\n}","map":{"version":3,"sources":["../../../../src/components/hotkeys/hotkeyParser.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var KeyCodes = {\n    8: \"backspace\",\n    9: \"tab\",\n    13: \"enter\",\n    20: \"capslock\",\n    27: \"esc\",\n    32: \"space\",\n    33: \"pageup\",\n    34: \"pagedown\",\n    35: \"end\",\n    36: \"home\",\n    37: \"left\",\n    38: \"up\",\n    39: \"right\",\n    40: \"down\",\n    45: \"ins\",\n    46: \"del\",\n    // number keys\n    48: \"0\",\n    49: \"1\",\n    50: \"2\",\n    51: \"3\",\n    52: \"4\",\n    53: \"5\",\n    54: \"6\",\n    55: \"7\",\n    56: \"8\",\n    57: \"9\",\n    // alphabet\n    65: \"a\",\n    66: \"b\",\n    67: \"c\",\n    68: \"d\",\n    69: \"e\",\n    70: \"f\",\n    71: \"g\",\n    72: \"h\",\n    73: \"i\",\n    74: \"j\",\n    75: \"k\",\n    76: \"l\",\n    77: \"m\",\n    78: \"n\",\n    79: \"o\",\n    80: \"p\",\n    81: \"q\",\n    82: \"r\",\n    83: \"s\",\n    84: \"t\",\n    85: \"u\",\n    86: \"v\",\n    87: \"w\",\n    88: \"x\",\n    89: \"y\",\n    90: \"z\",\n    // punctuation\n    106: \"*\",\n    107: \"+\",\n    109: \"-\",\n    110: \".\",\n    111: \"/\",\n    186: \";\",\n    187: \"=\",\n    188: \",\",\n    189: \"-\",\n    190: \".\",\n    191: \"/\",\n    192: \"`\",\n    219: \"[\",\n    220: \"\\\\\",\n    221: \"]\",\n    222: \"'\",\n};\nexport var Modifiers = {\n    16: \"shift\",\n    17: \"ctrl\",\n    18: \"alt\",\n    91: \"meta\",\n    93: \"meta\",\n    224: \"meta\",\n};\nexport var ModifierBitMasks = {\n    alt: 1,\n    ctrl: 2,\n    meta: 4,\n    shift: 8,\n};\nexport var Aliases = {\n    cmd: \"meta\",\n    command: \"meta\",\n    escape: \"esc\",\n    minus: \"-\",\n    mod: isMac() ? \"meta\" : \"ctrl\",\n    option: \"alt\",\n    plus: \"+\",\n    return: \"enter\",\n    win: \"meta\",\n};\n// alph sorting is unintuitive here\n// tslint:disable object-literal-sort-keys\nexport var ShiftKeys = {\n    \"~\": \"`\",\n    \"!\": \"1\",\n    \"@\": \"2\",\n    \"#\": \"3\",\n    $: \"4\",\n    \"%\": \"5\",\n    \"^\": \"6\",\n    \"&\": \"7\",\n    \"*\": \"8\",\n    \"(\": \"9\",\n    \")\": \"0\",\n    _: \"-\",\n    \"+\": \"=\",\n    \"{\": \"[\",\n    \"}\": \"]\",\n    \"|\": \"\\\\\",\n    \":\": \";\",\n    '\"': \"'\",\n    \"<\": \",\",\n    \">\": \".\",\n    \"?\": \"/\",\n};\n// tslint:enable object-literal-sort-keys\n// Function keys\nfor (var i = 1; i <= 12; ++i) {\n    KeyCodes[111 + i] = \"f\" + i;\n}\n// Numpad\nfor (var i = 0; i <= 9; ++i) {\n    KeyCodes[96 + i] = \"num\" + i.toString();\n}\nexport function comboMatches(a, b) {\n    return a.modifiers === b.modifiers && a.key === b.key;\n}\n/**\n * Converts a key combo string into a key combo object. Key combos include\n * zero or more modifier keys, such as `shift` or `alt`, and exactly one\n * action key, such as `A`, `enter`, or `left`.\n *\n * For action keys that require a shift, e.g. `@` or `|`, we inlude the\n * necessary `shift` modifier and automatically convert the action key to the\n * unshifted version. For example, `@` is equivalent to `shift+2`.\n */\nexport var parseKeyCombo = function (combo) {\n    var pieces = combo.replace(/\\s/g, \"\").toLowerCase().split(\"+\");\n    var modifiers = 0;\n    var key;\n    for (var _i = 0, pieces_1 = pieces; _i < pieces_1.length; _i++) {\n        var piece = pieces_1[_i];\n        if (piece === \"\") {\n            throw new Error(\"Failed to parse key combo \\\"\" + combo + \"\\\".\\n                Valid key combos look like \\\"cmd + plus\\\", \\\"shift+p\\\", or \\\"!\\\"\");\n        }\n        if (Aliases[piece] != null) {\n            piece = Aliases[piece];\n        }\n        if (ModifierBitMasks[piece] != null) {\n            modifiers += ModifierBitMasks[piece];\n        }\n        else if (ShiftKeys[piece] != null) {\n            modifiers += ModifierBitMasks.shift;\n            key = ShiftKeys[piece];\n        }\n        else {\n            key = piece.toLowerCase();\n        }\n    }\n    return { modifiers: modifiers, key: key };\n};\n/**\n * Converts a keyboard event into a valid combo prop string\n */\nexport var getKeyComboString = function (e) {\n    var keys = [];\n    // modifiers first\n    if (e.ctrlKey) {\n        keys.push(\"ctrl\");\n    }\n    if (e.altKey) {\n        keys.push(\"alt\");\n    }\n    if (e.shiftKey) {\n        keys.push(\"shift\");\n    }\n    if (e.metaKey) {\n        keys.push(\"meta\");\n    }\n    // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n    // eslint-disable-next-line deprecation/deprecation\n    var which = e.which;\n    if (Modifiers[which] != null) {\n        // no action key\n    }\n    else if (KeyCodes[which] != null) {\n        keys.push(KeyCodes[which]);\n    }\n    else {\n        // eslint-disable-next-line id-blacklist\n        keys.push(String.fromCharCode(which).toLowerCase());\n    }\n    // join keys with plusses\n    return keys.join(\" + \");\n};\n/**\n * Determines the key combo object from the given keyboard event. Again, a key\n * combo includes zero or more modifiers (represented by a bitmask) and one\n * action key, which we determine from the `e.which` property of the keyboard\n * event.\n */\nexport var getKeyCombo = function (e) {\n    var key;\n    // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n    // eslint-disable-next-line deprecation/deprecation\n    var which = e.which;\n    if (Modifiers[which] != null) {\n        // keep key null\n    }\n    else if (KeyCodes[which] != null) {\n        key = KeyCodes[which];\n    }\n    else {\n        // eslint-disable-next-line id-blacklist\n        key = String.fromCharCode(which).toLowerCase();\n    }\n    var modifiers = 0;\n    if (e.altKey) {\n        modifiers += ModifierBitMasks.alt;\n    }\n    if (e.ctrlKey) {\n        modifiers += ModifierBitMasks.ctrl;\n    }\n    if (e.metaKey) {\n        modifiers += ModifierBitMasks.meta;\n    }\n    if (e.shiftKey) {\n        modifiers += ModifierBitMasks.shift;\n    }\n    return { modifiers: modifiers, key: key };\n};\n/**\n * Splits a key combo string into its constituent key values and looks up\n * aliases, such as `return` -> `enter`.\n *\n * Unlike the parseKeyCombo method, this method does NOT convert shifted\n * action keys. So `\"@\"` will NOT be converted to `[\"shift\", \"2\"]`).\n */\nexport var normalizeKeyCombo = function (combo, platformOverride) {\n    var keys = combo.replace(/\\s/g, \"\").split(\"+\");\n    return keys.map(function (key) {\n        var keyName = Aliases[key] != null ? Aliases[key] : key;\n        return keyName === \"meta\" ? (isMac(platformOverride) ? \"cmd\" : \"ctrl\") : keyName;\n    });\n};\nfunction isMac(platformOverride) {\n    var platform = platformOverride != null ? platformOverride : typeof navigator !== \"undefined\" ? navigator.platform : undefined;\n    return platform == null ? false : /Mac|iPod|iPhone|iPad/.test(platform);\n}\n//# sourceMappingURL=hotkeyParser.js.map"]},"metadata":{},"sourceType":"module"}