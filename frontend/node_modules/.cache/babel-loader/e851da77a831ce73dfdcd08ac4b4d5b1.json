{"ast":null,"code":"/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __extends } from \"tslib\";\nimport * as React from \"react\";\nimport { isNodeEnv } from \"./utils\";\n/**\n * An abstract component that Blueprint components can extend\n * in order to add some common functionality like runtime props validation.\n *\n * @deprecated componentWillReceiveProps is deprecated in React 16.9; use AbstractComponent2 instead\n */\n\nvar AbstractComponent =\n/** @class */\nfunction (_super) {\n  __extends(AbstractComponent, _super);\n\n  function AbstractComponent(props, context) {\n    var _this = _super.call(this, props, context) || this; // Not bothering to remove entries when their timeouts finish because clearing invalid ID is a no-op\n\n\n    _this.timeoutIds = [];\n    /**\n     * Clear all known timeouts.\n     */\n\n    _this.clearTimeouts = function () {\n      if (_this.timeoutIds.length > 0) {\n        for (var _i = 0, _a = _this.timeoutIds; _i < _a.length; _i++) {\n          var timeoutId = _a[_i];\n          window.clearTimeout(timeoutId);\n        }\n\n        _this.timeoutIds = [];\n      }\n    };\n\n    if (!isNodeEnv(\"production\")) {\n      _this.validateProps(_this.props);\n    }\n\n    return _this;\n  }\n\n  AbstractComponent.prototype.componentWillReceiveProps = function (nextProps) {\n    if (!isNodeEnv(\"production\")) {\n      this.validateProps(nextProps);\n    }\n  };\n\n  AbstractComponent.prototype.componentWillUnmount = function () {\n    this.clearTimeouts();\n  };\n  /**\n   * Set a timeout and remember its ID.\n   * All stored timeouts will be cleared when component unmounts.\n   *\n   * @returns a \"cancel\" function that will clear timeout when invoked.\n   */\n\n\n  AbstractComponent.prototype.setTimeout = function (callback, timeout) {\n    var handle = window.setTimeout(callback, timeout);\n    this.timeoutIds.push(handle);\n    return function () {\n      return window.clearTimeout(handle);\n    };\n  };\n  /**\n   * Ensures that the props specified for a component are valid.\n   * Implementations should check that props are valid and usually throw an Error if they are not.\n   * Implementations should not duplicate checks that the type system already guarantees.\n   *\n   * This method should be used instead of React's\n   * [propTypes](https://facebook.github.io/react/docs/reusable-components.html#prop-validation) feature.\n   * Like propTypes, these runtime checks run only in development mode.\n   */\n\n\n  AbstractComponent.prototype.validateProps = function (_) {// implement in subclass\n  };\n\n  return AbstractComponent;\n}(React.Component);\n\nexport { AbstractComponent };","map":{"version":3,"sources":["../../../src/common/abstractComponent.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;AAcG;;AAEH,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AAEA,SAAS,SAAT,QAA0B,SAA1B;AAEA;;;;;AAKG;;AACH,IAAA,iBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAsD,EAAA,SAAA,CAAA,iBAAA,EAAA,MAAA,CAAA;;AAOlD,WAAA,iBAAA,CAAY,KAAZ,EAAsB,OAAtB,EAAmC;AAAnC,QAAA,KAAA,GACI,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,EAAa,OAAb,KAAqB,IADzB,CAAmC,CAHnC;;;AACQ,IAAA,KAAA,CAAA,UAAA,GAAuB,EAAvB;AA+BR;;AAEG;;AACI,IAAA,KAAA,CAAA,aAAA,GAAgB,YAAA;AACnB,UAAI,KAAI,CAAC,UAAL,CAAgB,MAAhB,GAAyB,CAA7B,EAAgC;AAC5B,aAAwB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAI,CAAC,UAA7B,EAAwB,EAAA,GAAA,EAAA,CAAA,MAAxB,EAAwB,EAAA,EAAxB,EAAyC;AAApC,cAAM,SAAS,GAAA,EAAA,CAAA,EAAA,CAAf;AACD,UAAA,MAAM,CAAC,YAAP,CAAoB,SAApB;AACH;;AACD,QAAA,KAAI,CAAC,UAAL,GAAkB,EAAlB;AACH;AACJ,KAPM;;AA9BH,QAAI,CAAC,SAAS,CAAC,YAAD,CAAd,EAA8B;AAC1B,MAAA,KAAI,CAAC,aAAL,CAAmB,KAAI,CAAC,KAAxB;AACH;;;AACJ;;AAEM,EAAA,iBAAA,CAAA,SAAA,CAAA,yBAAA,GAAP,UAAiC,SAAjC,EAA8E;AAC1E,QAAI,CAAC,SAAS,CAAC,YAAD,CAAd,EAA8B;AAC1B,WAAK,aAAL,CAAmB,SAAnB;AACH;AACJ,GAJM;;AAMA,EAAA,iBAAA,CAAA,SAAA,CAAA,oBAAA,GAAP,YAAA;AACI,SAAK,aAAL;AACH,GAFM;AAIP;;;;;AAKG;;;AACI,EAAA,iBAAA,CAAA,SAAA,CAAA,UAAA,GAAP,UAAkB,QAAlB,EAAwC,OAAxC,EAAwD;AACpD,QAAM,MAAM,GAAG,MAAM,CAAC,UAAP,CAAkB,QAAlB,EAA4B,OAA5B,CAAf;AACA,SAAK,UAAL,CAAgB,IAAhB,CAAqB,MAArB;AACA,WAAO,YAAA;AAAM,aAAA,MAAM,CAAC,YAAP,CAAA,MAAA,CAAA;AAA2B,KAAxC;AACH,GAJM;AAkBP;;;;;;;;AAQG;;;AACO,EAAA,iBAAA,CAAA,SAAA,CAAA,aAAA,GAAV,UAAwB,CAAxB,EAA6D,CACzD;AACH,GAFS;;AAGd,SAAA,iBAAA;AAAC,CA5DD,CAAsD,KAAK,CAAC,SAA5D,CAAA","sourceRoot":"","sourcesContent":["/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __extends } from \"tslib\";\nimport * as React from \"react\";\nimport { isNodeEnv } from \"./utils\";\n/**\n * An abstract component that Blueprint components can extend\n * in order to add some common functionality like runtime props validation.\n *\n * @deprecated componentWillReceiveProps is deprecated in React 16.9; use AbstractComponent2 instead\n */\nvar AbstractComponent = /** @class */ (function (_super) {\n    __extends(AbstractComponent, _super);\n    function AbstractComponent(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        // Not bothering to remove entries when their timeouts finish because clearing invalid ID is a no-op\n        _this.timeoutIds = [];\n        /**\n         * Clear all known timeouts.\n         */\n        _this.clearTimeouts = function () {\n            if (_this.timeoutIds.length > 0) {\n                for (var _i = 0, _a = _this.timeoutIds; _i < _a.length; _i++) {\n                    var timeoutId = _a[_i];\n                    window.clearTimeout(timeoutId);\n                }\n                _this.timeoutIds = [];\n            }\n        };\n        if (!isNodeEnv(\"production\")) {\n            _this.validateProps(_this.props);\n        }\n        return _this;\n    }\n    AbstractComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        if (!isNodeEnv(\"production\")) {\n            this.validateProps(nextProps);\n        }\n    };\n    AbstractComponent.prototype.componentWillUnmount = function () {\n        this.clearTimeouts();\n    };\n    /**\n     * Set a timeout and remember its ID.\n     * All stored timeouts will be cleared when component unmounts.\n     *\n     * @returns a \"cancel\" function that will clear timeout when invoked.\n     */\n    AbstractComponent.prototype.setTimeout = function (callback, timeout) {\n        var handle = window.setTimeout(callback, timeout);\n        this.timeoutIds.push(handle);\n        return function () { return window.clearTimeout(handle); };\n    };\n    /**\n     * Ensures that the props specified for a component are valid.\n     * Implementations should check that props are valid and usually throw an Error if they are not.\n     * Implementations should not duplicate checks that the type system already guarantees.\n     *\n     * This method should be used instead of React's\n     * [propTypes](https://facebook.github.io/react/docs/reusable-components.html#prop-validation) feature.\n     * Like propTypes, these runtime checks run only in development mode.\n     */\n    AbstractComponent.prototype.validateProps = function (_) {\n        // implement in subclass\n    };\n    return AbstractComponent;\n}(React.Component));\nexport { AbstractComponent };\n//# sourceMappingURL=abstractComponent.js.map"]},"metadata":{},"sourceType":"module"}