{"ast":null,"code":"import _regeneratorRuntime from\"F:/0000Schule/20210326_FRIDAY_TinfBeispiel2AllesWegenNiklas/SimpleMedia/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/0000Schule/20210326_FRIDAY_TinfBeispiel2AllesWegenNiklas/SimpleMedia/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import Button from\"./Login/Button\";import{React}from\"react\";import{Card,Container}from\"react-bootstrap\";import{BiImages as AiFillPicture}from\"react-icons/bi\";import{IoMdCamera as FaCamera}from\"react-icons/io\";import DragandDrop from\"./Login/DragandDrop\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ImageUpload=function ImageUpload(props){var onChange=props.onChange;var id=props.imgID;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card.Body,{className:\"p-1 pt-3 pb-3 bg-white\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Container,{className:\"border nichtRund\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"imgupload\"+id,children:/*#__PURE__*/_jsx(Card.Body,{className:\"p-0 m-3\",children:/*#__PURE__*/_jsx(DragandDrop,{imgID:id,onDrop:function onDrop(){imgToCanvas(id,function(can){onChange(can);});},className:\"m-0 w-100\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hide\",id:\"cams\"+id,children:[/*#__PURE__*/_jsxs(\"div\",{id:\"camVideo\"+id,children:[/*#__PURE__*/_jsx(\"video\",{className:\"center border\",id:\"video\"+id,width:\"640\",height:\"480\",autoPlay:true}),/*#__PURE__*/_jsx(Button,{text:\"Foto schie\\xDFen\",className2:\"w-100 mt-4\",variant:\"secondary\",onClick:function onClick(){var canvas=document.getElementById(\"canvas\"+id);var context=canvas.getContext(\"2d\");var video=document.getElementById(\"video\"+id);context.drawImage(video,0,0,640,480);document.getElementById(\"camVideo\"+id).classList.add(\"hide\");document.getElementById(\"canvas\"+id).classList.remove(\"hide\");onChange(document.getElementById(\"canvas\"+id));}})]}),/*#__PURE__*/_jsx(\"canvas\",{id:\"canvas\"+id,className:\"hide center border\",width:\"640\",height:\"480\"})]}),/*#__PURE__*/_jsxs(Card.Footer,{className:\"mt-4 p-0 bg-white\",children:[/*#__PURE__*/_jsx(Button,{text:/*#__PURE__*/_jsx(AiFillPicture,{className:\"Icon\"}),className2:\"\",variant:\"secondary\",onClick:function onClick(){document.getElementById(\"cams\"+id).classList.add(\"hide\");document.getElementById(\"imgupload\"+id).classList.remove(\"hide\");}}),/*#__PURE__*/_jsx(Button,{text:/*#__PURE__*/_jsx(FaCamera,{className:\"Icon\"}),className:\"m-4\",className2:\"m-2\",variant:\"secondary\",onClick:function onClick(){document.getElementById(\"imgupload\"+id).classList.add(\"hide\");document.getElementById(\"cams\"+id).classList.remove(\"hide\");var video=document.getElementById(\"video\"+id);console.log(video);// Get access to the camera!\nif(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){// Not adding `{ audio: true }` since we only want video now\nnavigator.mediaDevices.getUserMedia({video:true}).then(function(stream){//video.src = window.URL.createObjectURL(stream);\nvideo.srcObject=stream;video.play();});}}})]})]})})})});};export default ImageUpload;function imgToCanvas(_x,_x2){return _imgToCanvas.apply(this,arguments);}function _imgToCanvas(){_imgToCanvas=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id,callback){var img2,img;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:img2=document.getElementById(id);img=new Image();img.src=img2.src;img.crossOrigin=\"Anonymous\";img.onload=function(){var canvas=document.createElement(\"CANVAS\");var ctx=canvas.getContext(\"2d\");canvas.height=img.height;canvas.width=img.width;ctx.drawImage(this,0,0);callback(canvas);};case 5:case\"end\":return _context.stop();}}},_callee);}));return _imgToCanvas.apply(this,arguments);}","map":{"version":3,"sources":["F:/0000Schule/20210326_FRIDAY_TinfBeispiel2AllesWegenNiklas/SimpleMedia/frontend/src/components/ImageUpload.js"],"names":["Button","React","Card","Container","BiImages","AiFillPicture","IoMdCamera","FaCamera","DragandDrop","ImageUpload","props","onChange","id","imgID","imgToCanvas","can","canvas","document","getElementById","context","getContext","video","drawImage","classList","add","remove","console","log","navigator","mediaDevices","getUserMedia","then","stream","srcObject","play","callback","img2","img","Image","src","crossOrigin","onload","createElement","ctx","height","width"],"mappings":"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","sourcesContent":["import Button from \"./Login/Button\";\r\nimport { React } from \"react\";\r\nimport { Card, Container } from \"react-bootstrap\";\r\nimport { BiImages as AiFillPicture } from \"react-icons/bi\";\r\nimport { IoMdCamera as FaCamera } from \"react-icons/io\";\r\nimport DragandDrop from \"./Login/DragandDrop\";\r\n\r\nconst ImageUpload = (props) => {\r\n  let onChange = props.onChange;\r\n  let id = props.imgID\r\n  return (\r\n    <div>\r\n      <Card.Body className=\"p-1 pt-3 pb-3 bg-white\">\r\n        <Container>\r\n          <Container className=\"border nichtRund\">\r\n            <div id={\"imgupload\"+ id}>\r\n              <Card.Body className=\"p-0 m-3\">\r\n                <DragandDrop\r\n                  imgID={id}\r\n                  onDrop={function () {\r\n                    imgToCanvas(id, function (can) {\r\n                      onChange(can);\r\n                    });\r\n                  }}\r\n                  className=\"m-0 w-100\"\r\n                ></DragandDrop>\r\n              </Card.Body>\r\n            </div>\r\n            <div className=\"hide\" id={\"cams\"+ id}>\r\n              <div id={\"camVideo\"+ id}>\r\n                <video\r\n                  className=\"center border\"\r\n                  id = {\"video\"+ id}\r\n                  width=\"640\"\r\n                  height=\"480\"\r\n                  autoPlay\r\n                ></video>\r\n                <Button\r\n                  text=\"Foto schieÃŸen\"\r\n                  className2=\"w-100 mt-4\"\r\n                  variant=\"secondary\"\r\n                  onClick={function () {\r\n                    var canvas = document.getElementById(\"canvas\" + id);\r\n                    var context = canvas.getContext(\"2d\");\r\n                    var video = document.getElementById(\"video\" + id);\r\n\r\n                    context.drawImage(video, 0, 0, 640, 480);\r\n                    document.getElementById(\"camVideo\"+ id).classList.add(\"hide\");\r\n                    document.getElementById(\"canvas\"+ id).classList.remove(\"hide\");\r\n\r\n                    onChange(document.getElementById(\"canvas\"+ id));\r\n                  }}\r\n                ></Button>\r\n              </div>\r\n              <canvas\r\n                id={\"canvas\"+ id}\r\n                className=\"hide center border\"\r\n                width=\"640\"\r\n                height=\"480\"\r\n              ></canvas>\r\n            </div>\r\n\r\n            <Card.Footer className=\"mt-4 p-0 bg-white\">\r\n              <Button\r\n                text={<AiFillPicture className=\"Icon\" />}\r\n                className2=\"\"\r\n                variant=\"secondary\"\r\n                onClick={function () {\r\n                  document\r\n                    .getElementById(\"cams\" + id)\r\n                    .classList.add(\"hide\");\r\n                  document\r\n                    .getElementById(\"imgupload\" + id)\r\n                    .classList.remove(\"hide\");\r\n                }}\r\n              ></Button>\r\n              <Button\r\n                text={<FaCamera className=\"Icon\" />}\r\n                className=\"m-4\"\r\n                className2=\"m-2\"\r\n                variant=\"secondary\"\r\n                onClick={function () {\r\n                  document\r\n                    .getElementById(\"imgupload\" + id)\r\n                    .classList.add(\"hide\");\r\n                  document\r\n                    .getElementById(\"cams\" + id)\r\n                    .classList.remove(\"hide\");\r\n\r\n                  var video = document.getElementById(\"video\"+ id);\r\n                  console.log(video)\r\n                  // Get access to the camera!\r\n                  if (\r\n                    navigator.mediaDevices &&\r\n                    navigator.mediaDevices.getUserMedia\r\n                  ) {\r\n                    // Not adding `{ audio: true }` since we only want video now\r\n                    navigator.mediaDevices\r\n                      .getUserMedia({ video: true })\r\n                      .then(function (stream) {\r\n                        //video.src = window.URL.createObjectURL(stream);\r\n                        video.srcObject = stream;\r\n                        video.play();\r\n                      });\r\n                  }\r\n                }}\r\n              ></Button>\r\n            </Card.Footer>\r\n          </Container>\r\n        </Container>\r\n      </Card.Body>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;\r\n\r\nasync function imgToCanvas(id, callback) {\r\n  var img2 = document.getElementById(id);\r\n  var img = new Image();\r\n  img.src = img2.src;\r\n  img.crossOrigin = \"Anonymous\";\r\n  img.onload = function () {\r\n    var canvas = document.createElement(\"CANVAS\");\r\n    var ctx = canvas.getContext(\"2d\");\r\n\r\n    canvas.height = img.height;\r\n    canvas.width = img.width;\r\n    ctx.drawImage(this, 0, 0);\r\n    callback(canvas);\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}