{"ast":null,"code":"var _jsxFileName = \"D:\\\\0000Schule\\\\20210326_FRIDAY_TinfBeispiel2AllesWegenNiklas\\\\00 Tinf\\\\frontend\\\\src\\\\components\\\\ImageUpload.js\";\nimport Button from \"./Login/Button\";\nimport { React } from \"react\";\nimport { Card, Container } from \"react-bootstrap\";\nimport { BiImages as AiFillPicture } from \"react-icons/bi\";\nimport { IoMdCamera as FaCamera } from \"react-icons/io\";\nimport DragandDrop from \"./Login/DragandDrop\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ImageUpload = props => {\n  let onChange = props.onChange;\n  console.log(\"id\" + \" s\");\n  let id = props.imgID;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card.Body, {\n      className: \"p-1 pt-3 pb-3 bg-white\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          className: \"border nichtRund\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"imgupload\" + id,\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              className: \"p-0 m-3\",\n              children: /*#__PURE__*/_jsxDEV(DragandDrop, {\n                imgID: id,\n                onDrop: function () {\n                  imgToCanvas(id, function (can) {\n                    onChange(can);\n                  });\n                },\n                className: \"m-0 w-100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 20,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 19,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hide\",\n            id: \"cams\" + id,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"camVideo\" + id,\n              children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                className: \"center border\",\n                if: \"video\" + id,\n                width: \"640\",\n                height: \"480\",\n                autoPlay: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 33,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                text: \"Foto schie\\xDFen\",\n                className2: \"w-100 mt-4\",\n                variant: \"secondary\",\n                id: \"snap\",\n                onClick: function () {\n                  var canvas = document.getElementById(\"canvas\" + id);\n                  var context = canvas.getContext(\"2d\");\n                  var video = document.getElementById(\"video\" + id);\n                  context.drawImage(video, 0, 0, 640, 480);\n                  document.getElementById(\"camVideo\" + id).classList.add(\"hide\");\n                  document.getElementById(\"canvas\" + id).classList.remove(\"hide\");\n                  onChange(document.getElementById(\"canvas\") + id);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n              id: \"canvas\" + id,\n              className: \"hide center border\",\n              width: \"640\",\n              height: \"480\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n            className: \"mt-4 p-0 bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              text: /*#__PURE__*/_jsxDEV(AiFillPicture, {\n                className: \"Icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 23\n              }, this),\n              className2: \"\",\n              variant: \"secondary\",\n              onClick: function () {\n                document.getElementById(\"cams\" + id).classList.add(\"hide\");\n                document.getElementById(\"imgupload\" + id).classList.remove(\"hide\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              text: /*#__PURE__*/_jsxDEV(FaCamera, {\n                className: \"Icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 23\n              }, this),\n              className: \"m-4\",\n              className2: \"m-2\",\n              variant: \"secondary\",\n              onClick: function () {\n                document.getElementById(\"imgupload\" + id).classList.add(\"hide\");\n                document.getElementById(\"cams\" + id).classList.remove(\"hide\");\n                var video = document.getElementById(\"video\" + id);\n                console.log(video); // Get access to the camera!\n\n                if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n                  // Not adding `{ audio: true }` since we only want video now\n                  navigator.mediaDevices.getUserMedia({\n                    video: true\n                  }).then(function (stream) {\n                    //video.src = window.URL.createObjectURL(stream);\n                    video.srcObject = stream;\n                    video.play();\n                  });\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n};\n\n_c = ImageUpload;\nexport default ImageUpload;\n\nasync function imgToCanvas(id, callback) {\n  var img2 = document.getElementById(id);\n  var img = new Image();\n  img.src = img2.src;\n  img.crossOrigin = \"Anonymous\";\n\n  img.onload = function () {\n    var canvas = document.createElement(\"CANVAS\");\n    var ctx = canvas.getContext(\"2d\");\n    canvas.height = img.height;\n    canvas.width = img.width;\n    ctx.drawImage(this, 0, 0);\n    callback(canvas);\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"sources":["D:/0000Schule/20210326_FRIDAY_TinfBeispiel2AllesWegenNiklas/00 Tinf/frontend/src/components/ImageUpload.js"],"names":["Button","React","Card","Container","BiImages","AiFillPicture","IoMdCamera","FaCamera","DragandDrop","ImageUpload","props","onChange","console","log","id","imgID","imgToCanvas","can","canvas","document","getElementById","context","getContext","video","drawImage","classList","add","remove","navigator","mediaDevices","getUserMedia","then","stream","srcObject","play","callback","img2","img","Image","src","crossOrigin","onload","createElement","ctx","height","width"],"mappings":"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","sourcesContent":["import Button from \"./Login/Button\";\r\nimport { React } from \"react\";\r\nimport { Card, Container } from \"react-bootstrap\";\r\nimport { BiImages as AiFillPicture } from \"react-icons/bi\";\r\nimport { IoMdCamera as FaCamera } from \"react-icons/io\";\r\nimport DragandDrop from \"./Login/DragandDrop\";\r\n\r\nconst ImageUpload = (props) => {\r\n  let onChange = props.onChange;\r\n  console.log(\"id\" + \" s\")\r\n  let id = props.imgID;\r\n  \r\n  return (\r\n    <div>\r\n      <Card.Body className=\"p-1 pt-3 pb-3 bg-white\">\r\n        <Container>\r\n          <Container className=\"border nichtRund\">\r\n            <div id={\"imgupload\"+ id}>\r\n              <Card.Body className=\"p-0 m-3\">\r\n                <DragandDrop\r\n                  imgID={id}\r\n                  onDrop={function () {\r\n                    imgToCanvas(id, function (can) {\r\n                      onChange(can);\r\n                    });\r\n                  }}\r\n                  className=\"m-0 w-100\"\r\n                ></DragandDrop>\r\n              </Card.Body>\r\n            </div>\r\n            <div className=\"hide\" id={\"cams\"+ id}>\r\n              <div id={\"camVideo\"+ id}>\r\n                <video\r\n                  className=\"center border\"\r\n                  if = {\"video\"+ id}\r\n                  width=\"640\"\r\n                  height=\"480\"\r\n                  autoPlay\r\n                ></video>\r\n                <Button\r\n                  text=\"Foto schießen\"\r\n                  className2=\"w-100 mt-4\"\r\n                  variant=\"secondary\"\r\n                  id=\"snap\"\r\n                  onClick={function () {\r\n                    var canvas = document.getElementById(\"canvas\" + id);\r\n                    var context = canvas.getContext(\"2d\");\r\n                    var video = document.getElementById(\"video\" + id);\r\n\r\n                    context.drawImage(video, 0, 0, 640, 480);\r\n                    document.getElementById(\"camVideo\"+ id).classList.add(\"hide\");\r\n                    document.getElementById(\"canvas\"+ id).classList.remove(\"hide\");\r\n\r\n                    onChange(document.getElementById(\"canvas\")+ id);\r\n                  }}\r\n                ></Button>\r\n              </div>\r\n              <canvas\r\n                id={\"canvas\"+ id}\r\n                className=\"hide center border\"\r\n                width=\"640\"\r\n                height=\"480\"\r\n              ></canvas>\r\n            </div>\r\n\r\n            <Card.Footer className=\"mt-4 p-0 bg-white\">\r\n              <Button\r\n                text={<AiFillPicture className=\"Icon\" />}\r\n                className2=\"\"\r\n                variant=\"secondary\"\r\n                onClick={function () {\r\n                  document\r\n                    .getElementById(\"cams\" + id)\r\n                    .classList.add(\"hide\");\r\n                  document\r\n                    .getElementById(\"imgupload\" + id)\r\n                    .classList.remove(\"hide\");\r\n                }}\r\n              ></Button>\r\n              <Button\r\n                text={<FaCamera className=\"Icon\" />}\r\n                className=\"m-4\"\r\n                className2=\"m-2\"\r\n                variant=\"secondary\"\r\n                onClick={function () {\r\n                  document\r\n                    .getElementById(\"imgupload\" + id)\r\n                    .classList.add(\"hide\");\r\n                  document\r\n                    .getElementById(\"cams\" + id)\r\n                    .classList.remove(\"hide\");\r\n\r\n                  var video = document.getElementById(\"video\"+ id);\r\n                  console.log(video)\r\n                  // Get access to the camera!\r\n                  if (\r\n                    navigator.mediaDevices &&\r\n                    navigator.mediaDevices.getUserMedia\r\n                  ) {\r\n                    // Not adding `{ audio: true }` since we only want video now\r\n                    navigator.mediaDevices\r\n                      .getUserMedia({ video: true })\r\n                      .then(function (stream) {\r\n                        //video.src = window.URL.createObjectURL(stream);\r\n                        video.srcObject = stream;\r\n                        video.play();\r\n                      });\r\n                  }\r\n                }}\r\n              ></Button>\r\n            </Card.Footer>\r\n          </Container>\r\n        </Container>\r\n      </Card.Body>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;\r\n\r\nasync function imgToCanvas(id, callback) {\r\n  var img2 = document.getElementById(id);\r\n  var img = new Image();\r\n  img.src = img2.src;\r\n  img.crossOrigin = \"Anonymous\";\r\n  img.onload = function () {\r\n    var canvas = document.createElement(\"CANVAS\");\r\n    var ctx = canvas.getContext(\"2d\");\r\n\r\n    canvas.height = img.height;\r\n    canvas.width = img.width;\r\n    ctx.drawImage(this, 0, 0);\r\n    callback(canvas);\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}