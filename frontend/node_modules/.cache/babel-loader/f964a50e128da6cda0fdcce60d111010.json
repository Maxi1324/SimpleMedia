{"ast":null,"code":"/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __decorate, __extends } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { ButtonGroup } from \"../button/buttonGroup\";\nimport { AnchorButton, Button } from \"../button/buttons\";\nimport { Icon } from \"../icon/icon\";\n\nvar Toast =\n/** @class */\nfunction (_super) {\n  __extends(Toast, _super);\n\n  function Toast() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.handleActionClick = function (e) {\n      var _a, _b;\n\n      (_b = (_a = _this.props.action) === null || _a === void 0 ? void 0 : _a.onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n\n      _this.triggerDismiss(false);\n    };\n\n    _this.handleCloseClick = function () {\n      return _this.triggerDismiss(false);\n    };\n\n    _this.startTimeout = function () {\n      _this.clearTimeouts();\n\n      if (_this.props.timeout > 0) {\n        _this.setTimeout(function () {\n          return _this.triggerDismiss(true);\n        }, _this.props.timeout);\n      }\n    };\n\n    return _this;\n  }\n\n  Toast.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        icon = _a.icon,\n        intent = _a.intent,\n        message = _a.message;\n    return React.createElement(\"div\", {\n      className: classNames(Classes.TOAST, Classes.intentClass(intent), className),\n      onBlur: this.startTimeout,\n      onFocus: this.clearTimeouts,\n      onMouseEnter: this.clearTimeouts,\n      onMouseLeave: this.startTimeout,\n      tabIndex: 0\n    }, React.createElement(Icon, {\n      icon: icon\n    }), React.createElement(\"span\", {\n      className: Classes.TOAST_MESSAGE\n    }, message), React.createElement(ButtonGroup, {\n      minimal: true\n    }, this.maybeRenderActionButton(), React.createElement(Button, {\n      icon: \"cross\",\n      onClick: this.handleCloseClick\n    })));\n  };\n\n  Toast.prototype.componentDidMount = function () {\n    this.startTimeout();\n  };\n\n  Toast.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.timeout !== this.props.timeout) {\n      if (this.props.timeout > 0) {\n        this.startTimeout();\n      } else {\n        this.clearTimeouts();\n      }\n    }\n  };\n\n  Toast.prototype.componentWillUnmount = function () {\n    this.clearTimeouts();\n  };\n\n  Toast.prototype.maybeRenderActionButton = function () {\n    var action = this.props.action;\n\n    if (action == null) {\n      return undefined;\n    } else {\n      return React.createElement(AnchorButton, __assign({}, action, {\n        intent: undefined,\n        onClick: this.handleActionClick\n      }));\n    }\n  };\n\n  Toast.prototype.triggerDismiss = function (didTimeoutExpire) {\n    var _a, _b;\n\n    this.clearTimeouts();\n    (_b = (_a = this.props).onDismiss) === null || _b === void 0 ? void 0 : _b.call(_a, didTimeoutExpire);\n  };\n\n  Toast.defaultProps = {\n    className: \"\",\n    message: \"\",\n    timeout: 5000\n  };\n  Toast.displayName = DISPLAYNAME_PREFIX + \".Toast\";\n  Toast = __decorate([polyfill], Toast);\n  return Toast;\n}(AbstractPureComponent2);\n\nexport { Toast };","map":{"version":3,"sources":["../../../../src/components/toast/toast.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __decorate, __extends } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { ButtonGroup } from \"../button/buttonGroup\";\nimport { AnchorButton, Button } from \"../button/buttons\";\nimport { Icon } from \"../icon/icon\";\nvar Toast = /** @class */ (function (_super) {\n    __extends(Toast, _super);\n    function Toast() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleActionClick = function (e) {\n            var _a, _b;\n            (_b = (_a = _this.props.action) === null || _a === void 0 ? void 0 : _a.onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n            _this.triggerDismiss(false);\n        };\n        _this.handleCloseClick = function () { return _this.triggerDismiss(false); };\n        _this.startTimeout = function () {\n            _this.clearTimeouts();\n            if (_this.props.timeout > 0) {\n                _this.setTimeout(function () { return _this.triggerDismiss(true); }, _this.props.timeout);\n            }\n        };\n        return _this;\n    }\n    Toast.prototype.render = function () {\n        var _a = this.props, className = _a.className, icon = _a.icon, intent = _a.intent, message = _a.message;\n        return (React.createElement(\"div\", { className: classNames(Classes.TOAST, Classes.intentClass(intent), className), onBlur: this.startTimeout, onFocus: this.clearTimeouts, onMouseEnter: this.clearTimeouts, onMouseLeave: this.startTimeout, tabIndex: 0 },\n            React.createElement(Icon, { icon: icon }),\n            React.createElement(\"span\", { className: Classes.TOAST_MESSAGE }, message),\n            React.createElement(ButtonGroup, { minimal: true },\n                this.maybeRenderActionButton(),\n                React.createElement(Button, { icon: \"cross\", onClick: this.handleCloseClick }))));\n    };\n    Toast.prototype.componentDidMount = function () {\n        this.startTimeout();\n    };\n    Toast.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.timeout !== this.props.timeout) {\n            if (this.props.timeout > 0) {\n                this.startTimeout();\n            }\n            else {\n                this.clearTimeouts();\n            }\n        }\n    };\n    Toast.prototype.componentWillUnmount = function () {\n        this.clearTimeouts();\n    };\n    Toast.prototype.maybeRenderActionButton = function () {\n        var action = this.props.action;\n        if (action == null) {\n            return undefined;\n        }\n        else {\n            return React.createElement(AnchorButton, __assign({}, action, { intent: undefined, onClick: this.handleActionClick }));\n        }\n    };\n    Toast.prototype.triggerDismiss = function (didTimeoutExpire) {\n        var _a, _b;\n        this.clearTimeouts();\n        (_b = (_a = this.props).onDismiss) === null || _b === void 0 ? void 0 : _b.call(_a, didTimeoutExpire);\n    };\n    Toast.defaultProps = {\n        className: \"\",\n        message: \"\",\n        timeout: 5000,\n    };\n    Toast.displayName = DISPLAYNAME_PREFIX + \".Toast\";\n    Toast = __decorate([\n        polyfill\n    ], Toast);\n    return Toast;\n}(AbstractPureComponent2));\nexport { Toast };\n//# sourceMappingURL=toast.js.map"]},"metadata":{},"sourceType":"module"}