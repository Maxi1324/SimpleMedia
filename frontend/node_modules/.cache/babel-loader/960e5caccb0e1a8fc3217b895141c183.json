{"ast":null,"code":"/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __decorate, __extends, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, Position } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Icon } from \"../icon/icon\";\nimport { Popover, PopoverInteractionKind } from \"../popover/popover\";\nimport { Text } from \"../text/text\"; // this cyclic import can be removed in v4.0 (https://github.com/palantir/blueprint/issues/3829)\n// eslint-disable-next-line import/no-cycle\n\nimport { Menu } from \"./menu\";\n\nvar MenuItem =\n/** @class */\nfunction (_super) {\n  __extends(MenuItem, _super);\n\n  function MenuItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MenuItem.prototype.render = function () {\n    var _a, _b;\n\n    var _c = this.props,\n        active = _c.active,\n        className = _c.className,\n        children = _c.children,\n        disabled = _c.disabled,\n        icon = _c.icon,\n        intent = _c.intent,\n        labelClassName = _c.labelClassName,\n        labelElement = _c.labelElement,\n        multiline = _c.multiline,\n        popoverProps = _c.popoverProps,\n        shouldDismissPopover = _c.shouldDismissPopover,\n        text = _c.text,\n        textClassName = _c.textClassName,\n        _d = _c.tagName,\n        tagName = _d === void 0 ? \"a\" : _d,\n        htmlTitle = _c.htmlTitle,\n        htmlProps = __rest(_c, [\"active\", \"className\", \"children\", \"disabled\", \"icon\", \"intent\", \"labelClassName\", \"labelElement\", \"multiline\", \"popoverProps\", \"shouldDismissPopover\", \"text\", \"textClassName\", \"tagName\", \"htmlTitle\"]);\n\n    var hasSubmenu = children != null;\n    var intentClass = Classes.intentClass(intent);\n    var anchorClasses = classNames(Classes.MENU_ITEM, intentClass, (_a = {}, _a[Classes.ACTIVE] = active, _a[Classes.INTENT_PRIMARY] = active && intentClass == null, _a[Classes.DISABLED] = disabled, // prevent popover from closing when clicking on submenu trigger or disabled item\n    _a[Classes.POPOVER_DISMISS] = shouldDismissPopover && !disabled && !hasSubmenu, _a), className);\n    var target = React.createElement(tagName, __assign(__assign(__assign({}, htmlProps), disabled ? DISABLED_PROPS : {}), {\n      className: anchorClasses\n    }), React.createElement(Icon, {\n      icon: icon\n    }), React.createElement(Text, {\n      className: classNames(Classes.FILL, textClassName),\n      ellipsize: !multiline,\n      title: htmlTitle\n    }, text), this.maybeRenderLabel(labelElement), hasSubmenu ? React.createElement(Icon, {\n      icon: \"caret-right\"\n    }) : undefined);\n    var liClasses = classNames((_b = {}, _b[Classes.MENU_SUBMENU] = hasSubmenu, _b));\n    return React.createElement(\"li\", {\n      className: liClasses\n    }, this.maybeRenderPopover(target, children));\n  };\n\n  MenuItem.prototype.maybeRenderLabel = function (labelElement) {\n    var _a = this.props,\n        label = _a.label,\n        labelClassName = _a.labelClassName;\n\n    if (label == null && labelElement == null) {\n      return null;\n    }\n\n    return React.createElement(\"span\", {\n      className: classNames(Classes.MENU_ITEM_LABEL, labelClassName)\n    }, label, labelElement);\n  };\n\n  MenuItem.prototype.maybeRenderPopover = function (target, children) {\n    if (children == null) {\n      return target;\n    }\n\n    var _a = this.props,\n        disabled = _a.disabled,\n        popoverProps = _a.popoverProps;\n    return (\n      /* eslint-disable-next-line deprecation/deprecation */\n      React.createElement(Popover, __assign({\n        autoFocus: false,\n        captureDismiss: false,\n        disabled: disabled,\n        enforceFocus: false,\n        hoverCloseDelay: 0,\n        interactionKind: PopoverInteractionKind.HOVER,\n        modifiers: SUBMENU_POPOVER_MODIFIERS,\n        position: Position.RIGHT_TOP,\n        usePortal: false\n      }, popoverProps, {\n        content: React.createElement(Menu, null, children),\n        minimal: true,\n        popoverClassName: classNames(Classes.MENU_SUBMENU, popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.popoverClassName),\n        target: target\n      }))\n    );\n  };\n\n  MenuItem.defaultProps = {\n    disabled: false,\n    multiline: false,\n    popoverProps: {},\n    shouldDismissPopover: true,\n    text: \"\"\n  };\n  MenuItem.displayName = DISPLAYNAME_PREFIX + \".MenuItem\";\n  MenuItem = __decorate([polyfill], MenuItem);\n  return MenuItem;\n}(AbstractPureComponent2);\n\nexport { MenuItem };\nvar SUBMENU_POPOVER_MODIFIERS = {\n  // 20px padding - scrollbar width + a bit\n  flip: {\n    boundariesElement: \"viewport\",\n    padding: 20\n  },\n  // shift popover up 5px so MenuItems align\n  offset: {\n    offset: -5\n  },\n  preventOverflow: {\n    boundariesElement: \"viewport\",\n    padding: 20\n  }\n}; // props to ignore when disabled\n\nvar DISABLED_PROPS = {\n  href: undefined,\n  onClick: undefined,\n  onMouseDown: undefined,\n  onMouseEnter: undefined,\n  onMouseLeave: undefined,\n  tabIndex: -1\n};","map":{"version":3,"sources":["../../../../src/components/menu/menuItem.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __decorate, __extends, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, Position } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Icon } from \"../icon/icon\";\nimport { Popover, PopoverInteractionKind } from \"../popover/popover\";\nimport { Text } from \"../text/text\";\n// this cyclic import can be removed in v4.0 (https://github.com/palantir/blueprint/issues/3829)\n// eslint-disable-next-line import/no-cycle\nimport { Menu } from \"./menu\";\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MenuItem.prototype.render = function () {\n        var _a, _b;\n        var _c = this.props, active = _c.active, className = _c.className, children = _c.children, disabled = _c.disabled, icon = _c.icon, intent = _c.intent, labelClassName = _c.labelClassName, labelElement = _c.labelElement, multiline = _c.multiline, popoverProps = _c.popoverProps, shouldDismissPopover = _c.shouldDismissPopover, text = _c.text, textClassName = _c.textClassName, _d = _c.tagName, tagName = _d === void 0 ? \"a\" : _d, htmlTitle = _c.htmlTitle, htmlProps = __rest(_c, [\"active\", \"className\", \"children\", \"disabled\", \"icon\", \"intent\", \"labelClassName\", \"labelElement\", \"multiline\", \"popoverProps\", \"shouldDismissPopover\", \"text\", \"textClassName\", \"tagName\", \"htmlTitle\"]);\n        var hasSubmenu = children != null;\n        var intentClass = Classes.intentClass(intent);\n        var anchorClasses = classNames(Classes.MENU_ITEM, intentClass, (_a = {},\n            _a[Classes.ACTIVE] = active,\n            _a[Classes.INTENT_PRIMARY] = active && intentClass == null,\n            _a[Classes.DISABLED] = disabled,\n            // prevent popover from closing when clicking on submenu trigger or disabled item\n            _a[Classes.POPOVER_DISMISS] = shouldDismissPopover && !disabled && !hasSubmenu,\n            _a), className);\n        var target = React.createElement(tagName, __assign(__assign(__assign({}, htmlProps), (disabled ? DISABLED_PROPS : {})), { className: anchorClasses }), React.createElement(Icon, { icon: icon }), React.createElement(Text, { className: classNames(Classes.FILL, textClassName), ellipsize: !multiline, title: htmlTitle }, text), this.maybeRenderLabel(labelElement), hasSubmenu ? React.createElement(Icon, { icon: \"caret-right\" }) : undefined);\n        var liClasses = classNames((_b = {}, _b[Classes.MENU_SUBMENU] = hasSubmenu, _b));\n        return React.createElement(\"li\", { className: liClasses }, this.maybeRenderPopover(target, children));\n    };\n    MenuItem.prototype.maybeRenderLabel = function (labelElement) {\n        var _a = this.props, label = _a.label, labelClassName = _a.labelClassName;\n        if (label == null && labelElement == null) {\n            return null;\n        }\n        return (React.createElement(\"span\", { className: classNames(Classes.MENU_ITEM_LABEL, labelClassName) },\n            label,\n            labelElement));\n    };\n    MenuItem.prototype.maybeRenderPopover = function (target, children) {\n        if (children == null) {\n            return target;\n        }\n        var _a = this.props, disabled = _a.disabled, popoverProps = _a.popoverProps;\n        return (\n        /* eslint-disable-next-line deprecation/deprecation */\n        React.createElement(Popover, __assign({ autoFocus: false, captureDismiss: false, disabled: disabled, enforceFocus: false, hoverCloseDelay: 0, interactionKind: PopoverInteractionKind.HOVER, modifiers: SUBMENU_POPOVER_MODIFIERS, position: Position.RIGHT_TOP, usePortal: false }, popoverProps, { content: React.createElement(Menu, null, children), minimal: true, popoverClassName: classNames(Classes.MENU_SUBMENU, popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.popoverClassName), target: target })));\n    };\n    MenuItem.defaultProps = {\n        disabled: false,\n        multiline: false,\n        popoverProps: {},\n        shouldDismissPopover: true,\n        text: \"\",\n    };\n    MenuItem.displayName = DISPLAYNAME_PREFIX + \".MenuItem\";\n    MenuItem = __decorate([\n        polyfill\n    ], MenuItem);\n    return MenuItem;\n}(AbstractPureComponent2));\nexport { MenuItem };\nvar SUBMENU_POPOVER_MODIFIERS = {\n    // 20px padding - scrollbar width + a bit\n    flip: { boundariesElement: \"viewport\", padding: 20 },\n    // shift popover up 5px so MenuItems align\n    offset: { offset: -5 },\n    preventOverflow: { boundariesElement: \"viewport\", padding: 20 },\n};\n// props to ignore when disabled\nvar DISABLED_PROPS = {\n    href: undefined,\n    onClick: undefined,\n    onMouseDown: undefined,\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    tabIndex: -1,\n};\n//# sourceMappingURL=menuItem.js.map"]},"metadata":{},"sourceType":"module"}