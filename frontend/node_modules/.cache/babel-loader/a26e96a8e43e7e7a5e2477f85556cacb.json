{"ast":null,"code":"import _regeneratorRuntime from\"F:/0000Schule/20210326_FRIDAY_TinfBeispiel2AllesWegenNiklas/SimpleMedia/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/0000Schule/20210326_FRIDAY_TinfBeispiel2AllesWegenNiklas/SimpleMedia/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/0000Schule/20210326_FRIDAY_TinfBeispiel2AllesWegenNiklas/SimpleMedia/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState}from\"react\";import Card from\"react-bootstrap/Card\";import Image from\"react-bootstrap/Image\";import{AiOutlineHeart,AiFillHeart}from\"react-icons/ai\";import history from\"../history\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Beitrag=function Beitrag(props){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),like=_useState2[0],setlike=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),first=_useState4[0],setFirst=_useState4[1];var _useState5=useState(props.likes),_useState6=_slicedToArray(_useState5,2),likes=_useState6[0],setLikes=_useState6[1];if(first===undefined&&!(localStorage.aktNutzer===undefined||localStorage.aktNutzer===null)){postData(localStorage.ip+\"hasLiked/?beitrag=\"+props.name).then(function(data){setlike(data.str===\"true\"?true:false);setFirst(false);});}if(!(localStorage.aktNutzer===undefined||localStorage.aktNutzer===null)&&like===undefined)return/*#__PURE__*/_jsx(\"h1\",{children:\" \"});var ersteller=props.ersteller;var key1=props.key1;var element;if(!like){element=/*#__PURE__*/_jsx(AiOutlineHeart,{className:\"rechts Icon text-secondary\",id:\"herzaus\"+key1,onClick:function onClick(){postData(localStorage.ip+\"like/?state=true&beitrag=\"+props.name).then(function(data){console.error(data);// JSON data parsed by `data.json()` call\nsetlike(true);setLikes(likes+1);});}});}else{element=/*#__PURE__*/_jsx(AiFillHeart,{className:\"rechts Icon text-danger\",id:\"herzan\"+key1,onClick:function onClick(){postData(localStorage.ip+\"like/?state=false&beitrag=\"+props.name).then(function(data){setlike(false);setLikes(likes-1);});}});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Card.Header,{className:\"p-0 m-0 w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rechts \",onClick:function onClick(){history.push(\"/User\"+ersteller.nutzername);},children:[/*#__PURE__*/_jsx(\"img\",{alt:\"profilbild\",src:ersteller.profilBild,className:\"reallyRound center rechts\"}),/*#__PURE__*/_jsxs(\"h5\",{className:\"text-center\",children:[\" \",ersteller.nutzername]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"m-3\",children:props.name})]}),/*#__PURE__*/_jsx(Image,{className:\"w-50 border center\",src:props.img}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(\"p\",{className:\"text1\",children:props.text})}),/*#__PURE__*/_jsx(Card.Footer,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"rechts text-center\",children:[element,/*#__PURE__*/_jsx(\"div\",{id:\"likes\",children:likes})]})})]})});};function postData(){return _postData.apply(this,arguments);}function _postData(){_postData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,response,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_args.length>0&&_args[0]!==undefined?_args[0]:\"\";_context.next=3;return fetch(url,{method:\"GET\",// *GET, POST, PUT, DELETE, etc.\nmode:\"cors\",// no-cors, *cors, same-origin\ncache:\"no-cache\",// *default, no-cache, reload, force-cache, only-if-cached\ncredentials:\"same-origin\",// include, *same-origin, omit\nheaders:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.jwt// 'Content-Type': 'application/x-www-form-urlencoded',\n},redirect:\"follow\",// manual, *follow, error\nreferrerPolicy:\"no-referrer\"// no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n});case 3:response=_context.sent;return _context.abrupt(\"return\",response.json());case 5:case\"end\":return _context.stop();}}},_callee);}));return _postData.apply(this,arguments);}export default Beitrag;","map":{"version":3,"sources":["F:/0000Schule/20210326_FRIDAY_TinfBeispiel2AllesWegenNiklas/SimpleMedia/frontend/src/components/Beitrag.js"],"names":["React","useState","Card","Image","AiOutlineHeart","AiFillHeart","history","Beitrag","props","undefined","like","setlike","first","setFirst","likes","setLikes","localStorage","aktNutzer","postData","ip","name","then","data","str","ersteller","key1","element","console","error","push","nutzername","profilBild","img","text","url","fetch","method","mode","cache","credentials","headers","Authorization","jwt","redirect","referrerPolicy","response","json"],"mappings":"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","sourcesContent":["import { React, useState } from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport { AiOutlineHeart, AiFillHeart } from \"react-icons/ai\";\r\nimport history from \"../history\";\r\n\r\nconst Beitrag = (props) => {\r\n  const [like, setlike] = useState(undefined);\r\n  const [first, setFirst] = useState(undefined);\r\n  const [likes, setLikes] = useState(props.likes);\r\n  if (\r\n    first === undefined &&\r\n    !(localStorage.aktNutzer === undefined || localStorage.aktNutzer === null)\r\n  ) {\r\n    postData(localStorage.ip + \"hasLiked/?beitrag=\" + props.name).then(\r\n      (data) => {\r\n        setlike(data.str === \"true\" ? true : false);\r\n        setFirst(false);\r\n      }\r\n    );\r\n  }\r\n  if (!(localStorage.aktNutzer === undefined || localStorage.aktNutzer === null) && like === undefined ) return <h1> </h1>;\r\n  let ersteller = props.ersteller;\r\n  let key1 = props.key1;\r\n  let element;\r\n  if (!like) {\r\n    element = (\r\n      <AiOutlineHeart\r\n        className=\"rechts Icon text-secondary\"\r\n        id={\"herzaus\" + key1}\r\n        onClick={function () {\r\n          postData(\r\n            localStorage.ip + \"like/?state=true&beitrag=\" + props.name\r\n          ).then((data) => {\r\n            console.error(data); // JSON data parsed by `data.json()` call\r\n            setlike(true);\r\n            setLikes(likes + 1);\r\n          });\r\n        }}\r\n      ></AiOutlineHeart>\r\n    );\r\n  } else {\r\n    element = (\r\n      <AiFillHeart\r\n        className=\"rechts Icon text-danger\"\r\n        id={\"herzan\" + key1}\r\n        onClick={function () {\r\n          postData(\r\n            localStorage.ip + \"like/?state=false&beitrag=\" + props.name\r\n          ).then((data) => {\r\n            setlike(false);\r\n            setLikes(likes - 1);\r\n          });\r\n        }}\r\n      ></AiFillHeart>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card className=\"mb-4\">\r\n        <Card.Header className=\"p-0 m-0 w-100\">\r\n          <div\r\n            className=\"rechts \"\r\n            onClick={function () {\r\n              history.push(\"/User\" + ersteller.nutzername);\r\n            }}\r\n          >\r\n            <img\r\n              alt=\"profilbild\"\r\n              src={ersteller.profilBild}\r\n              className=\"reallyRound center rechts\"\r\n            ></img>\r\n            <h5 className=\"text-center\"> {ersteller.nutzername}</h5>\r\n          </div>\r\n          <h1 className=\"m-3\">{props.name}</h1>\r\n        </Card.Header>\r\n        <Image className=\"w-50 border center\" src={props.img}></Image>\r\n        <Card.Body>\r\n          <p className=\"text1\">{props.text}</p>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <div className=\"rechts text-center\">\r\n            {element}\r\n            <div id=\"likes\">{likes}</div>\r\n          </div>\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nasync function postData(url = \"\") {\r\n  // Default options are marked with *\r\n  const response = await fetch(url, {\r\n    method: \"GET\", // *GET, POST, PUT, DELETE, etc.\r\n    mode: \"cors\", // no-cors, *cors, same-origin\r\n    cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\r\n    credentials: \"same-origin\", // include, *same-origin, omit\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + localStorage.jwt,\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n    redirect: \"follow\", // manual, *follow, error\r\n    referrerPolicy: \"no-referrer\", // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n  });\r\n  return response.json(); // parses JSON response into native JavaScript objects\r\n}\r\n\r\nexport default Beitrag;\r\n"]},"metadata":{},"sourceType":"module"}